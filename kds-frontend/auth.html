<!DOCTYPE html>
<html lang="ru">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>Авторизация - Kodland Community</title>
		<link
			href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css"
			rel="stylesheet"
		/>
		<link
			href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.7.2/font/bootstrap-icons.css"
			rel="stylesheet"
		/>
		<link rel="stylesheet" href="src/index.css" />
		<link rel="stylesheet" href="src/auth.css" />
	</head>
	<body>
		<nav class="navbar navbar-expand-lg">
			<div class="container">
				<a class="navbar-brand" href="#">Kodland Community</a>
				<button
					class="navbar-toggler"
					type="button"
					data-bs-toggle="collapse"
					data-bs-target="#navbarNav"
				>
					<span class="navbar-toggler-icon"></span>
				</button>
				<div class="collapse navbar-collapse" id="navbarNav">
					<ul class="navbar-nav ms-auto">
						<li class="nav-item">
							<a class="nav-link" href="/index.html">Главная</a>
						</li>
						<li class="nav-item">
							<a class="nav-link" href="/index-tables.html">Таблицы</a>
						</li>
						<li class="nav-item">
							<a class="nav-link" href="/chat.html">Чат</a>
						</li>
						<li class="nav-item">
							<a class="nav-link" href="/auth.html" id="authLink"
								>Авторизация / Регистрация</a
							>
						</li>
						<li class="nav-item d-none" id="profileNavItem">
							<a class="nav-link" href="/profile.html" id="profileLink">
								<i class="bi bi-person-circle me-1"></i>
								<span id="userName">Профиль</span>
							</a>
						</li>
					</ul>
				</div>
			</div>
		</nav>

		<div class="container">
			<div class="auth-container">
				<!-- Tabs -->
				<div class="d-flex mb-4">
					<button class="tab-btn active me-2" data-tab="login">Вход</button>
					<button class="tab-btn me-2" data-tab="register">Регистрация</button>
					<button class="tab-btn" data-tab="reset">Сброс пароля</button>
				</div>

				<!-- Login Form -->
				<div id="login" class="tab-content active">
					<div class="error-message" id="loginError"></div>
					<div class="success-message" id="loginSuccess"></div>

					<form id="loginForm">
						<input
							type="email"
							id="loginEmail"
							class="form-input"
							placeholder="Email"
							required
						/>
						<input
							type="password"
							id="loginPassword"
							class="form-input"
							placeholder="Пароль"
							required
						/>
						<button type="submit" class="btn-submit">Войти</button>

						<!-- Social Login -->
						<div class="divider">
							<span>Или войдите через</span>
						</div>

						<div class="social-buttons">
							<button type="button" class="social-button">
								<i class="bi bi-google" style="color: #ea4335"></i>
								Google
							</button>
							<button type="button" class="social-button">
								<i class="bi bi-github" style="color: #333"></i>
								GitHub
							</button>
							<button type="button" class="social-button">
								<i class="bi bi-discord" style="color: #5865f2"></i>
								Discord
							</button>
							<button type="button" class="social-button">
								<i class="bi bi-chat-fill" style="color: #0077ff"></i>
								VK
							</button>
						</div>
					</form>
				</div>

				<!-- Register Form -->
				<div id="register" class="tab-content">
					<div class="error-message" id="registerError"></div>
					<div class="success-message" id="registerSuccess"></div>

					<form id="registerForm">
						<input
							type="email"
							id="registerEmail"
							class="form-input"
							placeholder="Email"
							required
						/>
						<input
							type="password"
							id="registerPassword"
							class="form-input"
							placeholder="Пароль"
							required
						/>
						<input
							type="text"
							id="registerDisplayName"
							class="form-input"
							placeholder="Отображаемое имя"
							required
						/>
						<button type="submit" class="btn-submit">Зарегистрироваться</button>
					</form>
				</div>

				<!-- Reset Password Form -->
				<div id="reset" class="tab-content">
					<div class="error-message" id="resetError"></div>
					<div class="success-message" id="resetSuccess"></div>

					<!-- Форма запроса сброса пароля -->
					<form id="resetRequestForm">
						<div class="form-group">
							<label for="resetEmail">Email</label>
							<input
								type="email"
								id="resetEmail"
								class="form-input"
								placeholder="Введите ваш email"
								required
							/>
						</div>
						<button type="submit" class="btn-submit">
							Отправить инструкции
						</button>
					</form>

					<!-- Форма подтверждения сброса пароля -->
					<form id="resetConfirmForm" class="mt-4 d-none">
						<div class="form-group">
							<label for="resetToken">Токен сброса пароля</label>
							<input
								type="text"
								id="resetToken"
								class="form-input"
								placeholder="Введите токен из письма"
								required
							/>
						</div>
						<div class="form-group">
							<label for="newPassword">Новый пароль</label>
							<input
								type="password"
								id="newPassword"
								class="form-input"
								placeholder="Введите новый пароль"
								required
							/>
						</div>
						<div class="form-group">
							<label for="confirmNewPassword">Подтвердите новый пароль</label>
							<input
								type="password"
								id="confirmNewPassword"
								class="form-input"
								placeholder="Повторите новый пароль"
								required
							/>
						</div>
						<button type="submit" class="btn-submit">Сбросить пароль</button>
					</form>
				</div>
			</div>
		</div>

		<footer class="text-center">
			<div class="container">
				<p class="mb-0">&copy; 2025 Kodland Community. Все права защищены.</p>
			</div>
		</footer>

		<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
		<script></script>
		<script src="src/auth.js"></script>
	</body>
</html>
